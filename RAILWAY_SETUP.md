# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è Railway

## üöÄ –î–µ–ø–ª–æ–π –Ω–∞ Railway

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ PostgreSQL —Å–µ—Ä–≤–∏—Å–æ–≤

–í Railway —Å–æ–∑–¥–∞–π **–¥–≤–∞ PostgreSQL —Å–µ—Ä–≤–∏—Å–∞**:

**–°–µ—Ä–≤–∏—Å 1: Admin Database (–¥–ª—è –∞–¥–º–∏–Ω–æ–≤)**
- –ù–∞–∑–≤–∞–Ω–∏–µ: `admin-db` 
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `DATABASE_URL`

**–°–µ—Ä–≤–∏—Å 2: Profiles Database (–¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏)**  
- –ù–∞–∑–≤–∞–Ω–∏–µ: `profiles-db`
- –ù—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –Ω–∞ —á—Ç–µ–Ω–∏–µ –∫ —Ç–≤–æ–µ–π –ø—Ä–æ–¥–∞–∫—à–µ–Ω –±–∞–∑–µ

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Railway –¥–æ–±–∞–≤—å:

#### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
```env
SECRET_KEY=your_super_secret_production_key_here
FLASK_ENV=production
```

#### –î–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π (–≤–∞—Ä–∏–∞–Ω—Ç 1 - –ø–æ–ª–Ω–∞—è —Å—Ç—Ä–æ–∫–∞):
```env
PROFILES_DATABASE_URL=postgresql://readonly_user:password@your_host:5432/farm_profiles
```

#### –î–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π (–≤–∞—Ä–∏–∞–Ω—Ç 2 - –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ):
```env
PROFILES_DB_HOST=your_profiles_host
PROFILES_DB_PORT=5432
PROFILES_DB_NAME=farm_profiles
PROFILES_DB_USER=readonly_user
PROFILES_DB_PASSWORD=readonly_password
```

### 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ Railway

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç:
- `DATABASE_URL` - –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –¥–ª—è –∞–¥–º–∏–Ω—Å–∫–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- `PORT` - –ø–æ—Ä—Ç –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 4. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```
üîπ Admin Database (DATABASE_URL)
  ‚îî‚îÄ‚îÄ —Ç–∞–±–ª–∏—Ü–∞ users (–∞–¥–º–∏–Ω—ã —Å –ø–æ–ª–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏)

üîπ Profiles Database (PROFILES_DATABASE_URL) 
  ‚îî‚îÄ‚îÄ —Ç–∞–±–ª–∏—Ü–∞ profiles (—Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ, –ø—Ä–æ–¥–∞–∫—à–µ–Ω –¥–∞–Ω–Ω—ã–µ)
```

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –≤ –ª–æ–≥–∞—Ö Railway —Ç—ã —É–≤–∏–¥–∏—à—å:

```
üîß Using configuration: ProductionConfig
üîí Admin DB: postgresql://user:***@host:5432/admin_db  
üìä Profiles DB: postgresql://readonly:***@host:5432/profiles_db
‚úÖ Admin database tables created/verified
‚úÖ –°–æ–∑–¥–∞–Ω –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π –∞–¥–º–∏–Ω: admin/admin
```

### 6. –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫

1. **–î–µ–ø–ª–æ–π**: `git push` –≤ —Å–≤—è–∑–∞–Ω–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. **–õ–æ–≥–∏**: –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –≤ Railway
3. **–î–æ—Å—Ç—É–ø**: –û—Ç–∫—Ä–æ–π URL –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
4. **–õ–æ–≥–∏–Ω**: `admin` / `admin`
5. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –°—Ä–∞–∑—É —Å–º–µ–Ω–∏ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∞!

### 7. –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

**‚ùå –û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ë–î –∞–¥–º–∏–Ω–æ–≤:**
- –ü—Ä–æ–≤–µ—Ä—å `DATABASE_URL` –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Railway
- –£–±–µ–¥–∏—Å—å —á—Ç–æ PostgreSQL —Å–µ—Ä–≤–∏—Å –∑–∞–ø—É—â–µ–Ω

**‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ø—Ä–æ—Ñ–∏–ª—è–º:**
- –ü—Ä–æ–≤–µ—Ä—å `PROFILES_DATABASE_URL` –∏–ª–∏ `PROFILES_DB_*`
- –£–±–µ–¥–∏—Å—å —á—Ç–æ –ø—Ä–æ–¥–∞–∫—à–µ–Ω –±–∞–∑–∞ –¥–æ—Å—Ç—É–ø–Ω–∞
- –ü—Ä–æ–≤–µ—Ä—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ readonly –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**‚ùå –û—à–∏–±–∫–∞ SECRET_KEY:**
- –î–æ–±–∞–≤—å `SECRET_KEY` –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è Railway
- –ò—Å–ø–æ–ª—å–∑—É–π –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ —Å—Ç–æ–π–∫–∏–π –∫–ª—é—á (–Ω–µ –º–µ–Ω–µ–µ 32 —Å–∏–º–≤–æ–ª–æ–≤)

### 8. –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–°–æ–∑–¥–∞–π —Ñ–∞–π–ª `.env` (—Å–∫–æ–ø–∏—Ä—É–π –∏–∑ `env.example`):

```env
SECRET_KEY=dev_secret_key_change_in_production
FLASK_ENV=development

# Admin Database (–ª–æ–∫–∞–ª—å–Ω—ã–π PostgreSQL)
ADMIN_DB_HOST=localhost
ADMIN_DB_PORT=5432
ADMIN_DB_NAME=admin_panel
ADMIN_DB_USER=postgres
ADMIN_DB_PASSWORD=password

# Profiles Database (–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω)
PROFILES_DATABASE_URL=postgresql://readonly:pass@prod_host:5432/farm_profiles
```

–ó–∞–ø—É—Å–∫: `python run.py`

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å —É —Ç–µ–±—è –µ—Å—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è Railway —Å –¥–≤—É–º—è PostgreSQL –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö!
